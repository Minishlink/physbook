{% extends "PJMAppBundle:Notifications:layout.html.twig" %}

{% block pjm_app_body_content %}
    {% include "PJMAppBundle:Notifications:togglePush.html.twig" %}
    <div class="space"></div>
    {% for notification in notifications %}
        {% include 'PJMAppBundle:Notifications:notification.html.twig' %}
    {% else %}
        Tu n'as pas encore de notifications.
    {% endfor %}
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script type="text/javascript">
$(document).ready(function () {
    // dispatch event notification read when arriving on this page
    if ('serviceWorker' in navigator) {
        if (navigator.serviceWorker.controller) {
            navigator.serviceWorker.controller.postMessage('dispatchRemoveNotifications');
        }
    }
});
</script>
{% endblock %}
